{% extends 'management/base.html' %}

{% block title %}{{ form_title }}{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">

    <!-- Header -->
    <div class="mb-6">
        <a href="{% url 'management:banner_list' %}" class="text-primary-600 hover:text-primary-700 text-sm mb-2 inline-flex items-center">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
            ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå
        </a>
        <h1 class="text-2xl font-bold text-gray-800 mt-2">{{ form_title }}</h1>
    </div>

    <!-- Form -->
    <form method="post" enctype="multipart/form-data" class="space-y-6">
        {% csrf_token %}

        <!-- Main Card -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</h3>

            <!-- Title -->
            <div class="mb-4">
                <label for="id_title" class="block text-sm font-medium text-gray-700 mb-2">
                    ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ <span class="text-red-500">*</span>
                </label>
                <input type="text" name="title" id="id_title" value="{{ form.title.value|default:'' }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                       required>
                {% if form.title.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.title.errors.0 }}</p>
                {% endif %}
                <p class="mt-1 text-xs text-gray-500">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏™‡πÑ‡∏•‡∏î‡πå</p>
            </div>

            <!-- Description -->
            <div class="mb-4">
                <label for="id_description" class="block text-sm font-medium text-gray-700 mb-2">
                    ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
                </label>
                <textarea name="description" id="id_description" rows="3"
                          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">{{ form.description.value|default:'' }}</textarea>
                {% if form.description.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.description.errors.0 }}</p>
                {% endif %}
                <p class="mt-1 text-xs text-gray-500">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå</p>
            </div>

            <!-- Image -->
            <div class="mb-4">
                <label for="id_image" class="block text-sm font-medium text-gray-700 mb-2">
                    ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå <span class="text-red-500">*</span>
                </label>
                <input type="file" name="image" id="id_image" accept="image/*"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                {% if form.image.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.image.errors.0 }}</p>
                {% endif %}
                {% if form.instance.image %}
                <div class="mt-2">
                    <p class="text-xs text-gray-500 mb-2">‡∏£‡∏π‡∏õ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:</p>
                    <img src="{{ form.instance.image.url }}" alt="Current banner" class="h-32 rounded-lg shadow">
                </div>
                {% endif %}
                <div class="mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg">
                    <p class="text-sm font-medium text-blue-800 mb-1">üìê ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå</p>
                    <ul class="text-xs text-blue-700 space-y-1">
                        <li>‚Ä¢ <strong>‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô:</strong> 21:9 (Ultra-wide) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</li>
                        <li>‚Ä¢ <strong>‡∏Ç‡∏ô‡∏≤‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</strong> 1920x823 px, 2560x1097 px ‡∏´‡∏£‡∏∑‡∏≠ 3840x1646 px</li>
                        <li>‚Ä¢ <strong>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå:</strong> JPG, PNG (‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5 MB)</li>
                        <li>‚Ä¢ <strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong> ‡∏£‡∏π‡∏õ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÇ‡∏î‡∏¢‡∏Ñ‡∏á‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô 21:9 ‡πÄ‡∏™‡∏°‡∏≠</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- CTA Card -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">‡∏õ‡∏∏‡πà‡∏° Call-to-Action</h3>

            <!-- Button Text -->
            <div class="mb-4">
                <label for="id_button_text" class="block text-sm font-medium text-gray-700 mb-2">
                    ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏∏‡πà‡∏°
                </label>
                <input type="text" name="button_text" id="id_button_text" value="{{ form.button_text.value|default:'' }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                       placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏•‡∏¢, ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°">
                {% if form.button_text.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.button_text.errors.0 }}</p>
                {% endif %}
                <p class="mt-1 text-xs text-gray-500">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏õ‡∏∏‡πà‡∏° (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°)</p>
            </div>

            <!-- Button Link -->
            <div class="mb-4">
                <label for="id_button_link" class="block text-sm font-medium text-gray-700 mb-2">
                    ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏õ‡∏∏‡πà‡∏°
                </label>
                <input type="text" name="button_link" id="id_button_link" value="{{ form.button_link.value|default:'' }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"
                       placeholder="/education/admission/ ‡∏´‡∏£‡∏∑‡∏≠ https://example.com">
                {% if form.button_link.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.button_link.errors.0 }}</p>
                {% endif %}
                <p class="mt-1 text-xs text-gray-500">URL ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°</p>
            </div>
        </div>

        <!-- Settings Card -->
        <div class="bg-white rounded-lg shadow p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h3>

            <!-- Order -->
            <div class="mb-4">
                <label for="id_order" class="block text-sm font-medium text-gray-700 mb-2">
                    ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á
                </label>
                <input type="number" name="order" id="id_order" value="{{ form.order.value|default:0 }}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                {% if form.order.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.order.errors.0 }}</p>
                {% endif %}
                <p class="mt-1 text-xs text-gray-500">‡πÄ‡∏•‡∏Ç‡∏ô‡πâ‡∏≠‡∏¢‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Å‡πà‡∏≠‡∏ô (0 = ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏∏‡∏î)</p>
            </div>

            <!-- Is Active -->
            <div class="mb-4">
                <div class="flex items-center">
                    <input type="checkbox" name="is_active" id="id_is_active" value="True"
                           {% if form.is_active.value or form.is_active.value == None %}checked{% endif %}
                           class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded">
                    <label for="id_is_active" class="ml-2 block text-sm text-gray-900">
                        ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ
                    </label>
                </div>
                {% if form.is_active.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.is_active.errors.0 }}</p>
                {% endif %}
                <p class="mt-1 text-xs text-gray-500">‡∏ñ‡πâ‡∏≤‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö</p>
            </div>

            <!-- Start Date -->
            <div class="mb-4">
                <label for="id_start_date" class="block text-sm font-medium text-gray-700 mb-2">
                    ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏™‡∏î‡∏á
                </label>
                <input type="datetime-local" name="start_date" id="id_start_date"
                       value="{% if form.start_date.value %}{{ form.start_date.value|date:'Y-m-d\TH:i' }}{% endif %}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                {% if form.start_date.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.start_date.errors.0 }}</p>
                {% endif %}
                <p class="mt-1 text-xs text-gray-500">‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
            </div>

            <!-- End Date -->
            <div class="mb-4">
                <label for="id_end_date" class="block text-sm font-medium text-gray-700 mb-2">
                    ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á
                </label>
                <input type="datetime-local" name="end_date" id="id_end_date"
                       value="{% if form.end_date.value %}{{ form.end_date.value|date:'Y-m-d\TH:i' }}{% endif %}"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                {% if form.end_date.errors %}
                <p class="mt-1 text-sm text-red-600">{{ form.end_date.errors.0 }}</p>
                {% endif %}
                <p class="mt-1 text-xs text-gray-500">‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ</p>
            </div>
        </div>

        <!-- Form Actions -->
        <div class="flex items-center justify-end space-x-3">
            <a href="{% url 'management:banner_list' %}"
               class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition">
                ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
            </a>
            <button type="submit"
                    class="px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition">
                {{ submit_text }}
            </button>
        </div>
    </form>

</div>
{% endblock %}
